/**
 * Print Styles
 * Optimized for PDF generation
 */

@media print {
  /* ==================== */
  /* PAGE SETUP */
  /* ==================== */
  
  @page {
    size: Letter;
    margin: 0.55in;
  }
  
  html,
  body {
    height: auto;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }
  
  body {
    background: transparent !important;
    color: rgba(233, 236, 245, 0.92) !important;
  }
  
  /* ==================== */
  /* PRINT BACKGROUND */
  /* ==================== */
  
  .print-bg {
    display: block !important;
    position: fixed;
    top: -0.55in;
    left: -0.55in;
    width: calc(100% + 1.1in);
    height: calc(100% + 1.1in);
    object-fit: cover;
    z-index: var(--z-background);
  }
  
  /* ==================== */
  /* HIDE ELEMENTS */
  /* ==================== */
  
  .bg-grid,
  .print-btn {
    display: none !important;
  }
  
  /* ==================== */
  /* HEADER */
  /* ==================== */
  
  .topbar {
    position: relative !important;
    background: transparent !important;
    backdrop-filter: none !important;
  }
  
  .jj-header {
    height: 72px;
  }
  
  /* ==================== */
  /* LAYOUT */
  /* ==================== */
  
  .container {
    max-width: 7.6in !important;
    padding-top: 0 !important;
  }
  
  .topbar,
  .container {
    position: relative !important;
    z-index: var(--z-base) !important;
  }
  
  /* Stack grids for readability */
  .hero,
  .grid-2,
  .charts-row {
    grid-template-columns: 1fr !important;
  }
  
  /* ==================== */
  /* CARDS & COMPONENTS */
  /* ==================== */
  
  .kpi-card,
  .panel,
  .chart-card,
  .property-card,
  .compare-card,
  .mcard,
  .metric,
  .opt-mini,
  .callout,
  .runway {
    background: transparent !important;
    position: relative !important;
    overflow: hidden !important;
    break-inside: avoid;
    page-break-inside: avoid;
  }
  
  /* Ensure content appears above background overlays */
  .kpi-card > *,
  .panel > *,
  .chart-card > *,
  .property-card > *,
  .compare-card > *,
  .mcard > *,
  .metric > *,
  .opt-mini > *,
  .callout > *,
  .runway > * {
    position: relative !important;
    z-index: calc(var(--z-base) + 1) !important;
  }
  
  /* Background overlay for cards */
  .print-card-bg {
    display: block !important;
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    z-index: var(--z-base) !important;
    object-fit: cover;
    border-radius: inherit;
  }
  
  /* ==================== */
  /* CHARTS */
  /* ==================== */
  
  .chart svg {
    height: 260px !important;
  }
  
  .chart-screen {
    display: none !important;
  }
  
  .chart-print {
    display: block !important;
  }
  
  /* ==================== */
  /* TYPOGRAPHY */
  /* ==================== */
  
  h1,
  h2,
  h3 {
    color: rgba(255, 255, 255, 0.95) !important;
  }
  
  .muted,
  .sub,
  .chart-sub {
    color: rgba(233, 236, 245, 0.72) !important;
  }
  
  /* ==================== */
  /* LINKS */
  /* ==================== */
  
  a {
    color: inherit !important;
    text-decoration: none !important;
  }
  
  /* Show URLs after links in appendix */
  .doc-list a::after {
    content: " (" attr(href) ")";
    font-size: 0.9em;
    color: rgba(233, 236, 245, 0.60);
  }
}